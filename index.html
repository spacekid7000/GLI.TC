<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Glitch Shot Generator</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>

    <div class="container">
        <header>
            <h1>GLI.TC/H SHOT</h1>
            <p class="subtitle">Endless Drum-Shot Generator</p>
        </header>

        <main>
            <div class="main-col">
                <!-- UPLOAD CARD -->
                <div class="card">
                    <div class="card-header">
                        <h2>1. Source Audio</h2>
                    </div>
                    <div class="card-content">
                        <div class="upload-area-wrapper">
                            <label for="audio-file" class="file-input-label">
                                <span class="file-label-title">Click to Upload Audio</span>
                                <span class="file-name" id="file-name-display">No file selected</span>
                            </label>
                            <input type="file" id="audio-file" accept="audio/*">
                        </div>
                    </div>
                </div>

                <!-- CONTROLS CARD -->
                <div class="card">
                    <div class="card-header">
                        <h2>2. Generate & Export</h2>
                    </div>
                    <div class="card-content">
                        <div class="control-group">
                            <label for="threshold-slider">Transient Threshold</label>
                            <div class="slider-wrapper">
                                <input type="range" id="threshold-slider" min="0.05" max="1.0" step="0.01" value="0.3">
                                <span class="slider-label" id="threshold-value">0.30</span>
                            </div>
                        </div>

                        <div class="control-group">
                            <label for="attack-slider">Attack Time</label>
                            <div class="slider-wrapper">
                                <input type="range" id="attack-slider" min="0.001" max="0.2" step="0.001" value="0.01">
                                <span class="slider-label" id="attack-value">0.010 s</span>
                            </div>
                        </div>

                        <div class="control-group">
                            <label for="length-slider">Max Length</label>
                            <div class="slider-wrapper">
                                <input type="range" id="length-slider" min="0.1" max="1.0" step="0.01" value="0.4">
                                <span class="slider-label" id="length-value">0.40 s</span>
                            </div>
                        </div>

                        <div class="control-group">
                            <label for="pitch-slider">Pitch Variation (Â± Semitones)</label>
                            <div class="slider-wrapper">
                                <input type="range" id="pitch-slider" min="0" max="24" step="1" value="12">
                                <span class="slider-label" id="pitch-value">12</span>
                            </div>
                        </div>


                        <div class="status" id="status-container">
                            <p id="status-text">Upload an audio file to begin.</p>
                            <div class="progress-bar" id="progress-bar" style="display: none;">
                                <div class="progress-fill" id="progress-fill"></div>
                            </div>
                        </div>

                        <div class="action-buttons">
                             <button class="btn" id="loopBtn">Loop Kit</button>
                             <button class="btn btn-primary" id="generateBtn" disabled>Regenerate</button>
                             <button class="btn" id="downloadBtn" disabled>Download .ZIP</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="main-col">
                <!-- KIT PREVIEW CARD -->
                <div class="card">
                     <div class="card-header">
                        <h2>3. Kit Preview</h2>
                    </div>
                    <div class="card-content" id="kit-container">
                        <!-- Waveforms will be dynamically inserted here -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

    <!-- Main Script -->
    <script src="script.js"></script>
</body>
</html>